{"remainingRequest":"F:\\prototype-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\prototype-vue\\src\\components\\AppContent\\DesignerWorkarea\\designer-workarea.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\prototype-vue\\src\\components\\AppContent\\DesignerWorkarea\\designer-workarea.vue","mtime":1575447007659},{"path":"F:\\prototype-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQmFzZUd1aU9iamVjdCBmcm9tICJAL2NvbXBvbmVudHMvQmFzZUd1aU9iamVjdC9CYXNlR3VpT2JqZWN0IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRlc2lnbmVyV29ya2FyZWEiLA0KICBjb21wb25lbnRzOiB7IEJhc2VHdWlPYmplY3QgfSwNCiAgcHJvcHM6IHsNCiAgICBjaGlsZERhdGE6IE9iamVjdCwNCiAgICByZXNvbHV0aW9uRGF0YTogT2JqZWN0DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRyYWdFbmREYXRhOiB7DQogICAgICAgIHg6IDAsDQogICAgICAgIHk6IDANCiAgICAgIH0sDQogICAgICBzdHlsZVByb3A6IHsNCiAgICAgICAgd2lkdGg6ICIxMjAwcHgiLA0KICAgICAgICBoZWlnaHQ6ICI2MDBweCINCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgICJyZXNvbHV0aW9uRGF0YS53aWR0aCI6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5zdHlsZVByb3Aud2lkdGggPSB0aGlzLnJlc29sdXRpb25EYXRhLndpZHRoICsgInB4IjsNCiAgICB9LA0KICAgICJyZXNvbHV0aW9uRGF0YS5oZWlnaHQiOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuc3R5bGVQcm9wLmhlaWdodCA9IHRoaXMucmVzb2x1dGlvbkRhdGEuaGVpZ2h0ICsgInB4IjsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhbGxvd0Ryb3A6IGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgIH0sDQogICAgZHJvcDogZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQogICAgICBsZXQgcG9zWCA9IGV2ZW50LmNsaWVudFg7DQogICAgICBsZXQgcG9zWSA9IGV2ZW50LmNsaWVudFk7DQogICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0Ow0KICAgICAgbGV0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICBjb25zb2xlLmxvZygidGVzdC0tLS0tLS0tLS0tIik7DQogICAgICBjb25zb2xlLmxvZyhyZWN0KTsNCiAgICAgIHBvc1ggLT0gTWF0aC5jZWlsKHJlY3QubGVmdCk7DQogICAgICBwb3NZIC09IE1hdGguY2VpbChyZWN0LnRvcCk7DQoNCiAgICAgIHRoaXMuZHJhZ0VuZERhdGEueCA9IHBvc1g7DQogICAgICB0aGlzLmRyYWdFbmREYXRhLnkgPSBwb3NZOw0KICAgIH0sDQogICAgbW91c2VNb3ZlOiBmdW5jdGlvbihldmVudCkgew0KICAgICAgbGV0IHBvc1kgPSBldmVudC5vZmZzZXRZOw0KICAgICAgbGV0IHBvc1ggPSBldmVudC5vZmZzZXRYOw0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KA0KICAgICAgICAiY2hhbmdlTG9nTWVzc2FnZSIsDQogICAgICAgICJNb3VzZU1vdmU6IFg6IiArIHBvc1ggKyAiIFk6IiArIHBvc1kNCiAgICAgICk7DQogICAgfSwNCiAgICB1cGRhdGVDaGlsZDogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgdGhpcy4kZW1pdCgidXBkYXRlLWNoaWxkIiwgZGF0YSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["designer-workarea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"designer-workarea.vue","sourceRoot":"src/components/AppContent/DesignerWorkarea","sourcesContent":["<template>\r\n  <div\r\n    class=\"workarea\"\r\n    v-bind:style=\"styleProp\"\r\n    v-on:drop=\"drop\"\r\n    v-on:dragover=\"allowDrop\"\r\n    v-on:mousemove=\"mouseMove\"\r\n  >\r\n    <base-gui-object\r\n      v-for=\"child in childData.childs\"\r\n      v-bind:drag-end-data=\"dragEndData\"\r\n      v-bind:box-data=\"child\"\r\n      v-bind:key=\"'child' + child.id\"\r\n      v-bind:ref=\"'child' + child.id\"\r\n      v-on:update-child-data=\"updateChild\"\r\n    >\r\n    </base-gui-object>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseGuiObject from \"@/components/BaseGuiObject/BaseGuiObject\";\r\nexport default {\r\n  name: \"DesignerWorkarea\",\r\n  components: { BaseGuiObject },\r\n  props: {\r\n    childData: Object,\r\n    resolutionData: Object\r\n  },\r\n  data() {\r\n    return {\r\n      dragEndData: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      styleProp: {\r\n        width: \"1200px\",\r\n        height: \"600px\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    \"resolutionData.width\": function() {\r\n      this.styleProp.width = this.resolutionData.width + \"px\";\r\n    },\r\n    \"resolutionData.height\": function() {\r\n      this.styleProp.height = this.resolutionData.height + \"px\";\r\n    }\r\n  },\r\n  methods: {\r\n    allowDrop: function(event) {\r\n      event.preventDefault();\r\n    },\r\n    drop: function(event) {\r\n      event.preventDefault();\r\n      let posX = event.clientX;\r\n      let posY = event.clientY;\r\n      let target = event.target;\r\n      let rect = target.getBoundingClientRect();\r\n      console.log(\"test-----------\");\r\n      console.log(rect);\r\n      posX -= Math.ceil(rect.left);\r\n      posY -= Math.ceil(rect.top);\r\n\r\n      this.dragEndData.x = posX;\r\n      this.dragEndData.y = posY;\r\n    },\r\n    mouseMove: function(event) {\r\n      let posY = event.offsetY;\r\n      let posX = event.offsetX;\r\n      this.$store.commit(\r\n        \"changeLogMessage\",\r\n        \"MouseMove: X:\" + posX + \" Y:\" + posY\r\n      );\r\n    },\r\n    updateChild: function(data) {\r\n      this.$emit(\"update-child\", data);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.workarea {\r\n  background-color: white;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  height: 300px;\r\n  position: relative;\r\n}\r\n</style>\r\n"]}]}