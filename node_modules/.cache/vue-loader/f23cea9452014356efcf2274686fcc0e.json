{"remainingRequest":"F:\\prototype-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\prototype-vue\\src\\components\\AppContent\\DesignerWorkarea\\designer-workarea.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"F:\\prototype-vue\\src\\components\\AppContent\\DesignerWorkarea\\designer-workarea.vue","mtime":1575447007659},{"path":"F:\\prototype-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\prototype-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLndvcmthcmVhIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7DQogIG1hcmdpbi1sZWZ0OiA1cHg7DQogIG1hcmdpbi1yaWdodDogNXB4Ow0KICBoZWlnaHQ6IDMwMHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQo="},{"version":3,"sources":["designer-workarea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA","file":"designer-workarea.vue","sourceRoot":"src/components/AppContent/DesignerWorkarea","sourcesContent":["<template>\r\n  <div\r\n    class=\"workarea\"\r\n    v-bind:style=\"styleProp\"\r\n    v-on:drop=\"drop\"\r\n    v-on:dragover=\"allowDrop\"\r\n    v-on:mousemove=\"mouseMove\"\r\n  >\r\n    <base-gui-object\r\n      v-for=\"child in childData.childs\"\r\n      v-bind:drag-end-data=\"dragEndData\"\r\n      v-bind:box-data=\"child\"\r\n      v-bind:key=\"'child' + child.id\"\r\n      v-bind:ref=\"'child' + child.id\"\r\n      v-on:update-child-data=\"updateChild\"\r\n    >\r\n    </base-gui-object>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseGuiObject from \"@/components/BaseGuiObject/BaseGuiObject\";\r\nexport default {\r\n  name: \"DesignerWorkarea\",\r\n  components: { BaseGuiObject },\r\n  props: {\r\n    childData: Object,\r\n    resolutionData: Object\r\n  },\r\n  data() {\r\n    return {\r\n      dragEndData: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      styleProp: {\r\n        width: \"1200px\",\r\n        height: \"600px\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    \"resolutionData.width\": function() {\r\n      this.styleProp.width = this.resolutionData.width + \"px\";\r\n    },\r\n    \"resolutionData.height\": function() {\r\n      this.styleProp.height = this.resolutionData.height + \"px\";\r\n    }\r\n  },\r\n  methods: {\r\n    allowDrop: function(event) {\r\n      event.preventDefault();\r\n    },\r\n    drop: function(event) {\r\n      event.preventDefault();\r\n      let posX = event.clientX;\r\n      let posY = event.clientY;\r\n      let target = event.target;\r\n      let rect = target.getBoundingClientRect();\r\n      console.log(\"test-----------\");\r\n      console.log(rect);\r\n      posX -= Math.ceil(rect.left);\r\n      posY -= Math.ceil(rect.top);\r\n\r\n      this.dragEndData.x = posX;\r\n      this.dragEndData.y = posY;\r\n    },\r\n    mouseMove: function(event) {\r\n      let posY = event.offsetY;\r\n      let posX = event.offsetX;\r\n      this.$store.commit(\r\n        \"changeLogMessage\",\r\n        \"MouseMove: X:\" + posX + \" Y:\" + posY\r\n      );\r\n    },\r\n    updateChild: function(data) {\r\n      this.$emit(\"update-child\", data);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.workarea {\r\n  background-color: white;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  height: 300px;\r\n  position: relative;\r\n}\r\n</style>\r\n"]}]}